@page "/teamselection"
@inherits PokemonBattle.Server.Components.Classes.Shared.PokemonDataBase

<h3>TeamSelection</h3>

@if (isInitialized == false)
{
    <p>Loading ...</p>
}
else
{
    <div class=@PokemonTeamContainerBaseClass>
        @for (int i = 0; i < PokemonTeam.Count; i++)
        {
        <div class=@PokemonTeamSlotBaseClass @onclick=@ClickPokemon>
            @if (PokemonTeam[i] != null)
            {
                <div class=@PokemonTeamImageBaseClass>
                    <img name="@PokemonTeam[i].Name" src="@PokemonTeam[i].Sprites.Front_Default" alt="@PokemonTeam[i].Name" />
                </div>
                <div class=@PokemonTeamNameBaseClass>
                    <p>@PokemonTeam[i].Name.ToUpper()</p>
                </div>
            }
            else
            {
                <div class=@PokemonTeamImageBaseClass>
                    <img class=@EmptyPokemonBaseClass src="@DefaultTeamPokemonImgUrl" alt="EmptyPokeball" />
                </div>
                <div class=@PokemonTeamNameBaseClass>
                    <p>Empty</p>
                </div>
            }
        </div>
        }
    </div>
    <EditForm Model="@PokemonTeam">
        <label class="pokemon-selection-title" for="searchable-pokedataList">
            Pokemon Selection
        </label>
        <InputSelect id="searchable-pokedataList" @bind-Value="@SelectedPokeId">
            <option value="Default">Select one..</option>
            @foreach (var pokemon in PokemonDataList)
                {
                <option value="@pokemon.Id.ToString()">@pokemon.Name.ToUpper()</option>
                }
        </InputSelect>
        <img src="@(String.IsNullOrEmpty(SelectedPokeId) || SelectedPokeId == "Default" ? DefaultPokemonImg : PokemonDataList.FirstOrDefault(p => p.Id.ToString() == SelectedPokeId).Sprites.Front_Default)" />
    </EditForm>

}


@code {

}
